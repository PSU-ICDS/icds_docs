job_id=[7372232,7372234,7372240,7372241,7372247,7372248,7372250,7372251,7372256,7372257,7372259,7372263,7372265,7372269,7372270,7372290,7372294,7372296,7372297,7372300,7372301,7372303,7372305,7372306,7372307,7372309,7372310,7372316,7372320,7372324,7372384,7372386,7371174,7372388,7372390,7372391,7372392,7372393,7372394,7372395,7372396,7372398,7372399,7372403,7372405,7372406,7372407,7372408,7372409,7372410,7372413,7372414,7372415,7372428,7372429,7372431,7372432,7372436,7372437,7372438,7372439,7372441,7372456,7372457,7372458,7372462,7372463,7372464,7372465,7372466,7372467,7372468,7372469,7372470,7372471,7372472,7372474,7372475,7372476,7372477,7372478,7372479,7372480,7372481,7372482,7372483,7372484,7372485,7372486,7372487,7372488,7372489,7372490,7372491,7372492,7372493,7372494,7372495,7372496,7372497,7372498,7372499,7372501,7372502,7372503,7372504,7372507,7372508,7372509,7372510,7372511,7372512,7372513,7372514,7372515,7372516,7372518,7372519,7372520,7372521,7372523,7372524,7372525,7372526,7372530,7372531,7372532,7372533,7372534,7372536,7372537,7372538,7372539,7372540,7372541,7372542,7372543,7372544,7372546,7372547,7372548,7372549,7372550,7372551,7372552,7372553,7372554,7372555,7372556,7372557,7372558,7372559,7372560,7372561,7372562,7372563,7372565,7372566,7372567,7372568,7372569,7372570,7372571,7372572,7372573,7372574,7372575,7372576,7372577,7372578,7372579,7372580,7372581,7372582,7372583,7372584,7372585,7372587,7372588,7372589,7372590,7372591,7372592,7372593,7372594,7372595,7372596,7372597,7372599,7372600,7372602,7372603,7372604,7372605,7372606,7372607,7372611,7372612,7372613,7372614,7372615,7372616,7372617,7372619,7372620,7372621,7372623,7372624,7372625,7372627,7372628,7372629,7372630,7372631,7372632,7372633,7372634,7372635,7372636,7372637,7372638,7372639,7372640,7372641,7372643,7372644,7372645,7372646,7372647,7372648,7372649,7372666,7372676,7372677,7372678,7372679,7372680,7372681,7372682,7372683,7372684,7372685,7372686,7372687,7372688,7372689,7372690,7372691,7372693,7372695,7372697,7372699,7372701,7372703,7372705,7372707,7372709,7372710,7372712,7372716,7372718,7372720,7372722,7372724,7372726,7372728,7372731,7372733,7372735,7372736,7372738,7372740,7372742,7372744,7372745,7372746,7372747,7372748,7372750,7372751,7372762,7372763,7372764,7372765,7372766,7372767,7372768,7372769,7372770,7372771,7372772,7372773,7372774,7372775,7372776,7372777,7372778,7372779,7372780,7372781,7372782,7372783,7372784,7372785,7372786,7372787,7372789,7372790,7372791,7372792,7372800,7372801,7372802,7372803,7372804,7372805,7372806,7372807,7372808,7372809,7372810,7372811,7372812,7372813,7372814,7372815,7372816,7372817,7372818,7372819,7372820,7372821,7372822,7372823,7372824,7372825,7372826,7372827,7372829,7372832,7372833,7372834,7372835,7372836,7372837,7372838,7372839,7372840,7372841,7372842,7372843,7372844,7372845,7372846,7372847,7372848,7372849,7372850,7372851,7372852,7372853,7372854,7372855,7372856,7372857,7372858,7372859,7372860,7372861,7372862,7372864,7372865,7372867,7372868,7372869,7372870,7372871,7372872,7372873,7372874,7372875,7372876,7372877,7372878,7372879,7372880,7372881,7372884,7372885,7372886,7372887,7372888,7372889,7372890,7372891,7372892,7372893,7372895,7372896,7372897,7372898,7372900,7372901,7372902,7372903,7372904,7372905,7372906,7372907,7372908,7372909,7372910,7372911,7372913,7372914,7372915,7372916,7372917,7372918,7372919,7372920,7372921,7372922,7372923,7372924,7372925,7372926,7372927,7372928,7372929,7372930,7372931,7372933,7372935,7372936,7372937,7372939,7372940,7372941,7372942,7372943,7372944,7372945,7372946,7372947,7372948,7372949,7372950,7372951,7372952,7372953,7372954,7372955,7372956,7372957,7372958,7372960,7372961,7372962,7372963,7372964,7372965,7372966,7372967,7372968,7372969,7372971,7372972,7372974,7372975,7372976,7372980,7372982,7372984,7372985,7372987,7373002,7373003,7373004,7373005,7373006,7373007,7373008,7373009,7373010,7373011,7373012,7373013,7373014,7373016,7373017,7373018,7373022,7373023,7373024,7373025,7373027,7373028,7373029,7373030,7373031,7373032,7373033,7373034,7373035,7373036,7373037,7373038,7373039,7373040,7373041,7373042,7373043,7373044,7373045,7373046,7373047,7373048,7373050,7373051,7373052,7373053,7373055,7373058,7373059,7373060,7373061,7373062,7373063,7373064,7373065,7373066,7373067,7373068,7373069,7373071,7373072,7373073,7373074,7373075,7373076,7373077,7373078,7373079,7373080,7373081,7373082,7373083,7373084,7373085,7373086,7373087,7373088,7373089,7373090,7373091,7373092,7373093,7373094,7373095,7373096,7373097,7373098,7373099,7373100,7373101,7373102,7373103,7373104,7373105,7373106,7373107,7373108,7373109,7373110,7373111,7373112,7373113,7373114,7373115,7373116,7373117,7373118,7373119,7373121,7373122,7373123,7373124,7373126,7373127,7373128,7373129,7373130,7373131,7373132,7373133,7373134,7373135,7373136,7373137,7373140,7373141,7373142,7373143,7373144,7373145,7373146,7373147,7373148,7373149,7373150,7373151,7373152,7373153,7373154,7373155,7373156,7373157,7373158,7373159,7373160,7373161,7373162,7373163,7373164,7373165,7373166,7373167,7373168,7373169,7373170,7373171,7373172,7373173,7373174,7373175,7373178,7373179,7373180,7373181,7373182,7373183,7373184,7373185,7373186,7373187,7373188,7373189,7373190,7373192,7373206,7373207,7373208,7373209,7373210,7373211,7373212,7373213,7373214,7373215,7373216,7373217,7373218,7373220,7373221,7373222,7373223,7373224,7373226,7373227,7373228,7373229,7373230,7373231,7373232,7373233,7373234,7373235,7373236,7373237,7373238,7373239,7373240,7373243,7373244,7373246,7373247,7373249,7373250,7373251,7373252,7373253,7373254,7373256,7373257,7373258,7373259,7373260,7373261,7373262,7373263,7373264,7373265,7373266,7373267,7373268,7373269,7373270,7373271,7373272,7373273,7373274,7373275,7373278,7373279,7373280,7373281,7373282,7373283,7373284,7373285,7373286,7373287,7373288,7373289,7373290,7373291,7373292,7373293,7373294,7373295,7373296,7373297,7373299,7373301,7373302,7373303,7373305,7373306,7373307,7373308,7373309,7373310,7373311,7373312,7373313,7373314,7373315,7373316,7373317,7373318,7373319,7373320,7373321,7373322,7373323,7373324,7373325,7373326,7373327,7373329,7373330,7373331,7373333,7373334,7373336,7373338,7373340,7373341,7373342,7373343,7373344,7373345,7373346,7373347,7373348,7373349,7373350,7373351,7373352,7373353,7373354,7373355,7373356,7373357,7373358,7373359,7373360,7373362,7373363,7373364,7373365,7373366,7373367,7373368,7373369,7373370,7373373,7373374,7373375,7373376,7373377,7373378,7373379,7373381,7373383,7373384,7373385,7373387,7373388,7373389,7373391,7373393,7373394,7373395,7373396,7373397,7373398,7373399,7373400,7373410,7373412]
job_id.sort()
file = open("/Users/omega/Desktop/log20180913.txt","r")
content=file.readlines()
file.close()
jobs_node={}
length=len(job_id)
for __,job in enumerate(job_id):
    jobs_node[job]=[]
    line_log=0
    find_node=0
    for idx,line in enumerate(content[line_log:]):
        if str(job) in line and "<Job_Id>" in line:
            find_node=1
        if find_node==1:
            if "exec_host" in line:
                host=line[len("<exec_host>")+1:-len("</exec_host>")-1]
                print("job: {} ({:.2f}%) | exec_host: {} | Line {}".format(\
                job,((__+1)/length)*100,host,idx))
                jobs_node[job].append(line[len("<exec_host>")+1:-len("</exec_host>")-1])
                find_node=0
                line_log=idx
                break
nodes=[]
for i in jobs_node.values():
    nodes.append(i[0].split("/")[0])
set(nodes)

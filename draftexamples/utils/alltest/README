alltest

This program attempts to measre the bandwidth and latency between each 
possible pair of ranks within an MPI job.

Because there are several ways of pairing the ranks, such that each rank
has the opportunity to communication with each of the others, I've 
chosen three different methods of doing the pairings for this test code.
These three tests can be select at run-time and are described more 
completely in the partners.c code.  The basic tests are:

	-sb
		This test calculates partners based on the "slide-by"
		technique that Kevin F. showed me.


	-fb
		The 'full blown' method shown by Doug B.


	-xo
		Use the exclusive or of the rank and iteration number
		as the partner.  Any "partner" outside the range
		of the job will be ignored.

Additional commandline parameters:

	-fn filename
		This allows you to pick something other than at_out.3d 
		as your filename

	-pre
		Runs a short latency test prior to starting the real
		bandwidth and latency tests.  Some MPI implementationss
		may not allocate point-to-point connections until they
		are needed.  This may cause a slowdown over the course
		of the run as additional allocations are made.

The output format is:

X   Y   Bandwidth Latency Iteration


Where X and Y are the node that reported the stats and the partner for 
which data was collected.

You should then be able to plot this in several ways with a number of 
plotting packages.

A couple of scripts for making plots with gnuplot are included.  

You should be able to do something like:

  ./mkplotbw.pl out.txt 500 1500 0 2047

Where out.txt is the output createc by the alltest command.

The first two arguments are the upper and lower color bounds for the 
image.  The second two arguments are for the upper and lower bounds
for the ranks to be plotted.
 

